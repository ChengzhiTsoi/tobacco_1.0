#!/bin/bash

units           real
atom_style      full
boundary        p p p

# Setting up the forcefield 
pair_style      lj/cut 12.0
bond_style      harmonic
angle_style     hybrid cosine/periodic fourier
dihedral_style  harmonic
improper_style  fourier

special_bonds   lj/coul 0.0 0.0 1.0
dielectric      1.0
pair_modify     tail yes mix arithmetic

# Input
read_data       data.INDEX
set atom * image 0 0 0

# Defining the output file
log             log.optimization
dump            1 all custom 100 dump.optimization.lammpstrj id type x y z
restart         1000 restart.optimization

# Energy minimization settings
min_style       cg
min_modify      line quadratic

# Setting up the parameters of geometry optimization
minimize 1.0e-4 1.0e-6 10000 10000

# Output
write_data      data.optimized_mof
